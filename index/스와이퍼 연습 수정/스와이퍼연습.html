<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>스와이퍼 연습</title>

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="./스와이퍼연습.css">

    <style>
        
    </style>

</head>
<body>

    <!-- 스와이퍼 구조 : swiper-container > swiper-wrapper > swiper-slide -->

    <!-- Slider main container -->
    <div id="test-slide" class="swiper">
        <!-- swiper-wrapper -->
        <ul class="swiper-wrapper">
            <!-- swiper-slide -->
            <li class="swiper-slide">슬라이드1</li>
            <li class="swiper-slide">슬라이드2</li>
            <li class="swiper-slide">슬라이드3</li>
        </ul>
    </div>  

    <!-- slider 버튼 -->
    <div class="btn-prev"></div>
    <div class="btn-next"></div>

    <!-- pagination 필요없으면 삭제 -->
    <div class="swiper-pagination"></div>

   <script>
        const swiper = new Swiper('.swiper', {
           
            // Optional parameters
            slidesPerView: 1,
            freeMode : true,
            allowTouchMove : false,
            speed: 200,

            // If we need pagination
            pagination: {
                el: '.swiper-pagination',
                clickable : true,
                type : 'bullets', // 버튼 모양 결정 "bullets", "fraction" 
            },

            // Navigation arrows 버튼 클래스 입력
            navigation: {
                nextEl: '.btn-next',
                prevEl: '.btn-prev',
            },

            on: {
                init: function () {
                    console.log('swiper initialized');
                },
                
                // 슬라이드 변경시 이벤트 발생
                slideChange: function () {
                // alert('슬라이드 변경');
                // console.log(swiper.realIndex);
                
                    // 첫번째 슬라이드에서는 이전 버튼 안보이게 하는 class 추가
                    // 마지막 슬라이드에서는 다음 버튼 안보이게
                    if(swiper.realIndex == swiper.slides.length-1){
                        // swiper.navigation.nextEl.style.visibility == "hidden";
                        swiper.navigation.nextEl.classList.add('swiper-btn-hidden');
                        console.log(swiper.realIndex);
                    }else if(swiper.realIndex == 0){
                        // swiper.navigation.prevEl.style.visibility = "hidden" 
                        swiper.navigation.prevEl.classList.add('swiper-btn-hidden');
                    }
                    else{
                        swiper.navigation.prevEl.classList.remove('swiper-btn-hidden'); 
                        swiper.navigation.nextEl.classList.remove('swiper-btn-hidden'); 
                    }
                },
            },
            
            // 오류 방지
            observer: true,
            observeParents: true,

        });

        // index가 2인 세번째 슬라이드로 이동
        swiper.slideTo(2);

        
    </script>
</body>
</html>